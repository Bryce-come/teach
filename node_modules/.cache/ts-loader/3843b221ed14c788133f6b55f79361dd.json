{"remainingRequest":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/babel-loader/lib/index.js!/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/ts-loader/index.js??ref--13-2!/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/service/use-decrator.ts","dependencies":[{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/service/use-decrator.ts","mtime":1579004471000},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/cache-loader/dist/cjs.js","mtime":1574737719973},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/babel-loader/lib/index.js","mtime":1574737707076},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/ts-loader/index.js","mtime":1574737715182}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3ljai9XZWJzdG9ybVByb2plY3RzL2x0dFByb2plY3RzL3RlYWNoLXBsYXRmb3JtLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IE1lc3NhZ2VCb3ggfSBmcm9tICdlbGVtZW50LXVpJzsKZXhwb3J0IGZ1bmN0aW9uIHVzZUxvYWRpbmcobG9hZGluZ1ZhbHVlLCBmbikgewogIC8vIOeOr+Wig+WPmOmHj+S4jeWQjAogIC8vIHJldHVybiB1c2VMb2FkaW5nRGlyZWN0KGxvYWRpbmdWYWx1ZS52YWx1ZSwgZm4pOwogIHJldHVybiAoCiAgICAvKiNfX1BVUkVfXyovCiAgICBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX2xlbiwKICAgICAgICAgICAgcmVzdCwKICAgICAgICAgICAgX2tleSwKICAgICAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvYWRpbmdWYWx1ZS52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKCiAgICAgICAgICAgICAgICBmb3IgKF9sZW4gPSBfYXJncy5sZW5ndGgsIHJlc3QgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgICAgICAgICAgIHJlc3RbX2tleV0gPSBfYXJnc1tfa2V5XTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCByZXN0KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgICAgbG9hZGluZ1ZhbHVlLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDEwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMSwgNywgMTAsIDEzXV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkKICApOwp9CmV4cG9ydCBmdW5jdGlvbiB1c2VMb2FkaW5nRGlyZWN0KGxvYWRpbmdWYWx1ZSwgZm4pIHsKICByZXR1cm4gKAogICAgLyojX19QVVJFX18qLwogICAgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX2xlbjIsCiAgICAgICAgICAgIHJlc3QsCiAgICAgICAgICAgIF9rZXkyLAogICAgICAgICAgICBfYXJnczIgPSBhcmd1bWVudHM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBsb2FkaW5nVmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwoKICAgICAgICAgICAgICAgIGZvciAoX2xlbjIgPSBfYXJnczIubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CiAgICAgICAgICAgICAgICAgIHJlc3RbX2tleTJdID0gX2FyZ3MyW19rZXkyXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgcmVzdCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQyLnQwOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIGxvYWRpbmdWYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzLCBbWzEsIDcsIDEwLCAxM11dKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKQogICk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbmZpcm0obXNnLCBmbikgewogIHJldHVybiAoCiAgICAvKiNfX1BVUkVfXyovCiAgICBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfbGVuMywKICAgICAgICAgICAgcmVzdCwKICAgICAgICAgICAgX2tleTMsCiAgICAgICAgICAgIF9hcmdzMyA9IGFyZ3VtZW50czsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBNZXNzYWdlQm94LmNvbmZpcm0obXNnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgZm9yIChfbGVuMyA9IF9hcmdzMy5sZW5ndGgsIHJlc3QgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHsKICAgICAgICAgICAgICAgICAgcmVzdFtfa2V5M10gPSBfYXJnczNbX2tleTNdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIHJlc3QpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkKICApOwp9"},{"version":3,"sources":["/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/service/use-decrator.ts"],"names":[],"mappings":";;AAAA,SAAS,UAAT,QAA2B,YAA3B;AAIA,OAAM,SAAU,UAAV,CAAqB,YAArB,EAAiD,EAAjD,EAAgE;AACpE;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAO;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACL,gBAAA,YAAY,CAAC,KAAb,GAAqB,IAArB;AADK;;AAAA,0CAA6B,IAA7B;AAA6B,kBAAA,IAA7B;AAAA;;AAAA;AAAA,uBAGG,EAAE,CAAC,KAAH,CAAS,IAAT,EAAe,IAAf,CAHH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAOH,gBAAA,YAAY,CAAC,KAAb,GAAqB,KAArB;AAPG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAUD;AACD,OAAM,SAAU,gBAAV,CAA2B,YAA3B,EAAkD,EAAlD,EAAiE;AACrE;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAO;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACL,gBAAA,YAAY,GAAG,IAAf;AADK;;AAAA,4CAA6B,IAA7B;AAA6B,kBAAA,IAA7B;AAAA;;AAAA;AAAA,uBAGG,EAAE,CAAC,KAAH,CAAS,IAAT,EAAe,IAAf,CAHH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAOH,gBAAA,YAAY,GAAG,KAAf;AAPG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAUD;AACD,OAAM,SAAU,UAAV,CAAqB,GAArB,EAAkC,EAAlC,EAAiD;AACrD;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAO;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEG,UAAU,CAAC,OAAX,CAAmB,GAAnB,CAFH;;AAAA;AAAA,4CAA6B,IAA7B;AAA6B,kBAAA,IAA7B;AAAA;;AAGH,gBAAA,EAAE,CAAC,KAAH,CAAS,IAAT,EAAe,IAAf;AAHG;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAMD","sourcesContent":["import { MessageBox } from 'element-ui';\nimport { Ref } from '@vue/composition-api';\nimport { AnyFunction } from '../types/common';\n\nexport function useLoading(loadingValue: Ref<boolean>, fn: AnyFunction) {\n  // 环境变量不同\n  // return useLoadingDirect(loadingValue.value, fn);\n  return async function(this: any, ...rest: any[]) {\n    loadingValue.value = true;\n    try {\n      await fn.apply(this, rest);\n    } catch (e) {\n      throw e;\n    } finally {\n      loadingValue.value = false;\n    }\n  };\n}\nexport function useLoadingDirect(loadingValue: boolean, fn: AnyFunction) {\n  return async function(this: any, ...rest: any[]) {\n    loadingValue = true;\n    try {\n      await fn.apply(this, rest);\n    } catch (e) {\n      throw e;\n    } finally {\n      loadingValue = false;\n    }\n  };\n}\nexport function useConfirm(msg: string, fn: AnyFunction) {\n  return async function(this: any, ...rest: any[]) {\n    try {\n      await MessageBox.confirm(msg);\n      fn.apply(this, rest);\n    } catch {}\n  };\n}\n"],"sourceRoot":""}]}