{"remainingRequest":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/babel-loader/lib/index.js!/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/ts-loader/index.js??ref--13-2!/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/service/use-autoresize.ts","dependencies":[{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/service/use-autoresize.ts","mtime":1579004471000},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/cache-loader/dist/cjs.js","mtime":1574737719973},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/babel-loader/lib/index.js","mtime":1574737707076},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/ts-loader/index.js","mtime":1574737715182}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgb25Vbm1vdW50ZWQsIG9uTW91bnRlZCwgcmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwovKioKICog5L2/5YiX6KGo6aG56Ieq6YCC5bqU5a695bqmCiAqIEBwYXJhbSBvcHRzCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHVzZUF1dG9yZXNpemUob3B0cykgewogIHZhciBwaXZvdCA9IG9wdHMucGl2b3QgfHwgMzYwOwogIHZhciBpdGVtV2lkdGggPSByZWYocGl2b3QpOwogIHZhciB0aW1lciA9IDA7CgogIGZ1bmN0aW9uIG9uUmVzaXplKCkgewogICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsgLy8gdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgY29uc3QgcmVmID0gb3B0cy5jb250ZXh0LnJlZnNbb3B0cy5yZWZdIGFzIEhUTUxFbGVtZW50IHwgSFRNTEVsZW1lbnRbXSB8IHZvaWQ7CiAgICAvLyAgIGNvbnN0IGN0biA9IEFycmF5LmlzQXJyYXkocmVmKSA/IHJlZlswXSA6IHJlZjsKICAgIC8vICAgaWYgKGN0bikgewogICAgLy8gICAgIGNvbnN0IHdpZHRoID0gY3RuLmNsaWVudFdpZHRoOwogICAgLy8gICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3Iod2lkdGggLyBwaXZvdCk7CiAgICAvLyAgICAgaXRlbVdpZHRoLnZhbHVlID0gd2lkdGggLyBjb2w7CiAgICAvLyAgIH0KICAgIC8vIH0sIDEwMCk7CiAgfQoKICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTsKICAgIG9uUmVzaXplKCk7CiAgfSk7CiAgb25Vbm1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZSk7CiAgfSk7CiAgcmV0dXJuIGl0ZW1XaWR0aDsKfQ=="},{"version":3,"sources":["/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/service/use-autoresize.ts"],"names":[],"mappings":"AAAA,SAAS,WAAT,EAAsB,SAAtB,EAAiC,GAAjC,QAA4C,sBAA5C;AAOA;;;;;AAIA,OAAM,SAAU,aAAV,CAAwB,IAAxB,EAAgD;AACpD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAL,IAAc,GAA5B;AACA,MAAM,SAAS,GAAG,GAAG,CAAC,KAAD,CAArB;AACA,MAAM,KAAK,GAAG,CAAd;;AACA,WAAS,QAAT,GAAiB;AACf,IAAA,YAAY,CAAC,KAAD,CAAZ,CADe,CAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AACD,EAAA,SAAS,CAAC,YAAK;AACb,IAAA,MAAM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,QAAlC;AACA,IAAA,QAAQ;AACT,GAHQ,CAAT;AAIA,EAAA,WAAW,CAAC;AAAA,WAAM,MAAM,CAAC,mBAAP,CAA2B,QAA3B,EAAqC,QAArC,CAAN;AAAA,GAAD,CAAX;AACA,SAAO,SAAP;AACD","sourcesContent":["import { onUnmounted, onMounted, ref } from '@vue/composition-api';\nimport { SetupContext } from '@vue/composition-api';\ninterface IAutoResizeOptions {\n  context: SetupContext;\n  ref: string;\n  pivot?: number;\n}\n/**\n * 使列表项自适应宽度\n * @param opts\n */\nexport function useAutoresize(opts: IAutoResizeOptions) {\n  const pivot = opts.pivot || 360;\n  const itemWidth = ref(pivot);\n  const timer = 0;\n  function onResize() {\n    clearTimeout(timer);\n    // timer = setTimeout(() => {\n    //   const ref = opts.context.refs[opts.ref] as HTMLElement | HTMLElement[] | void;\n    //   const ctn = Array.isArray(ref) ? ref[0] : ref;\n    //   if (ctn) {\n    //     const width = ctn.clientWidth;\n    //     const col = Math.floor(width / pivot);\n    //     itemWidth.value = width / col;\n    //   }\n    // }, 100);\n  }\n  onMounted(() => {\n    window.addEventListener('resize', onResize);\n    onResize();\n  });\n  onUnmounted(() => window.removeEventListener('resize', onResize));\n  return itemWidth;\n}\n"],"sourceRoot":""}]}