{"remainingRequest":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/components/lkt-table.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/components/lkt-table.vue","mtime":1579004471000},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/cache-loader/dist/cjs.js","mtime":1574737719973},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/babel-loader/lib/index.js","mtime":1574737707076},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/ts-loader/index.js","mtime":1574737715182},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/cache-loader/dist/cjs.js","mtime":1574737719973},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/vue-loader/lib/index.js","mtime":1581426799590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgcmVmLCB3YXRjaCwgY29tcHV0ZWQgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgYWxpZ246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY2VudGVyJywKICAgIH0sCiAgICBwYWdlU2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEwLAogICAgfSwKICAgIHBhZ2VTaXplczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gWzEwLCAyMCwgMzAsIDUwXSwKICAgIH0sCiAgICBjdXJyZW50UGFnZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEsCiAgICB9LAogICAgZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10sCiAgICB9LAogIH0sCiAgc2V0dXAocHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4sIGN0eDogYW55KSB7CiAgICBjb25zdCBjdXJyZW50UGFnZUlubmVyID0gcmVmPG51bWJlcj4ocHJvcHMuY3VycmVudFBhZ2UpOwogICAgd2F0Y2goKCkgPT4gcHJvcHMuY3VycmVudFBhZ2UsIGN1cnJlbnRQYWdlID0+IGN1cnJlbnRQYWdlSW5uZXIudmFsdWUgPSBjdXJyZW50UGFnZSk7CiAgICB3YXRjaChjdXJyZW50UGFnZUlubmVyLCBjdXJyZW50UGFnZUlubmVyID0+IGN0eC5lbWl0KCd1cGRhdGU6Y3VycmVudFBhZ2UnLCBjdXJyZW50UGFnZUlubmVyKSk7CiAgICBjb25zdCBwYWdlU2l6ZUlubmVyID0gcmVmPG51bWJlcj4ocHJvcHMucGFnZVNpemUpOwogICAgd2F0Y2goKCkgPT4gcHJvcHMucGFnZVNpemUsIHBhZ2VTaXplID0+IHBhZ2VTaXplSW5uZXIudmFsdWUgPSBwYWdlU2l6ZSk7CiAgICB3YXRjaChwYWdlU2l6ZUlubmVyLCBwYWdlU2l6ZUlubmVyID0+IGN0eC5lbWl0KCd1cGRhdGU6cGFnZVNpemUnLCBwYWdlU2l6ZUlubmVyKSk7CiAgICBjb25zdCBkaXNwbGF5RGF0YSA9IGNvbXB1dGVkKCgpID0+IHByb3BzLmRhdGEuc2xpY2UoKGN1cnJlbnRQYWdlSW5uZXIudmFsdWUgLSAxKSAqIHBhZ2VTaXplSW5uZXIudmFsdWUsIGN1cnJlbnRQYWdlSW5uZXIudmFsdWUgKiBwYWdlU2l6ZUlubmVyLnZhbHVlKSk7CiAgICBmdW5jdGlvbiBzb3J0Q2hhbmdlKHA6IGFueSkgewogICAgICBpZiAoIXAucHJvcCkgeyByZXR1cm47IH0KICAgICAgLy8g5a2Y5ZyoY2hpbGRyZW4KICAgICAgY29uc3QgcHMgPSBwLnByb3Auc3BsaXQoJy4nKTsKICAgICAgcHJvcHMuZGF0YS5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4gewogICAgICAgIGxldCBhYSA9IGFbcHNbMF1dOwogICAgICAgIGxldCBiYiA9IGJbcHNbMF1dOwogICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGFhID0gYWFbcHNbaV1dOwogICAgICAgICAgYmIgPSBiYltwc1tpXV07CiAgICAgICAgfQogICAgICAgIGlmIChwLm9yZGVyID09PSAnYXNjZW5kaW5nJykgewogICAgICAgICAgaWYgKCBhYSA+IGJiKSB7IHJldHVybiAxOyB9IGVsc2UgaWYgKGFhIDwgYmIpIHsgcmV0dXJuIC0xOyB9IGVsc2UgeyByZXR1cm4gMDsgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoIGFhID4gYmIpIHsgcmV0dXJuIC0xOyB9IGVsc2UgaWYgKGFhIDwgYmIpIHsgcmV0dXJuIDE7IH0gZWxzZSB7IHJldHVybiAwOyB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRQYWdlSW5uZXIsCiAgICAgIHBhZ2VTaXplSW5uZXIsCiAgICAgIGRpc3BsYXlEYXRhLAogICAgICBzb3J0Q2hhbmdlLAogICAgfTsKICB9LAp9Owo="},{"version":3,"sources":["lkt-table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"lkt-table.vue","sourceRoot":"node_modules/web-toolkit/src/components","sourcesContent":["<template>\n  <div class=\"lkt-table\">\n    <el-table\n            :data=\"displayData\"\n            v-bind=\"$attrs\"\n            v-on=\"$listeners\"\n            v-on:sort-change=\"sortChange\">\n      <slot/>\n    </el-table>\n    <el-pagination\n            background\n            layout=\"prev, pager, next, jumper, sizes, total\"\n            style=\"margin-top: 5px;text-align: center\"\n            :total=\"data.length\"\n            :page-size.sync=\"pageSizeInner\"\n            :page-sizes=\"pageSizes\"\n            :current-page.sync=\"currentPageInner\"\n    />\n  </div>\n</template>\n<script lang=\"ts\">\n  import { ref, watch, computed } from '@vue/composition-api';\n  export default {\n    props: {\n      align: {\n        type: String,\n        default: 'center',\n      },\n      pageSize: {\n        type: Number,\n        default: 10,\n      },\n      pageSizes: {\n        type: Array,\n        default: () => [10, 20, 30, 50],\n      },\n      currentPage: {\n        type: Number,\n        default: 1,\n      },\n      data: {\n        type: Array,\n        default: () => [],\n      },\n    },\n    setup(props: Record<string, any>, ctx: any) {\n      const currentPageInner = ref<number>(props.currentPage);\n      watch(() => props.currentPage, currentPage => currentPageInner.value = currentPage);\n      watch(currentPageInner, currentPageInner => ctx.emit('update:currentPage', currentPageInner));\n      const pageSizeInner = ref<number>(props.pageSize);\n      watch(() => props.pageSize, pageSize => pageSizeInner.value = pageSize);\n      watch(pageSizeInner, pageSizeInner => ctx.emit('update:pageSize', pageSizeInner));\n      const displayData = computed(() => props.data.slice((currentPageInner.value - 1) * pageSizeInner.value, currentPageInner.value * pageSizeInner.value));\n      function sortChange(p: any) {\n        if (!p.prop) { return; }\n        // 存在children\n        const ps = p.prop.split('.');\n        props.data.sort((a: any, b: any) => {\n          let aa = a[ps[0]];\n          let bb = b[ps[0]];\n          for (let i = 1; i < ps.length; i++) {\n            aa = aa[ps[i]];\n            bb = bb[ps[i]];\n          }\n          if (p.order === 'ascending') {\n            if ( aa > bb) { return 1; } else if (aa < bb) { return -1; } else { return 0; }\n          } else {\n            if ( aa > bb) { return -1; } else if (aa < bb) { return 1; } else { return 0; }\n          }\n        });\n      }\n      return {\n        currentPageInner,\n        pageSizeInner,\n        displayData,\n        sortChange,\n      };\n    },\n  };\n</script>\n"]}]}