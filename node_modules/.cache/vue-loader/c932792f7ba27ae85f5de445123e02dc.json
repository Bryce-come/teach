{"remainingRequest":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/src/views/login.vue?vue&type=style&index=0&id=7589b93f&lang=scss&scoped=true&","dependencies":[{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/src/views/login.vue","mtime":1580137040823},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/css-loader/dist/cjs.js","mtime":1581426799462},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1581426799590},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/postcss-loader/src/index.js","mtime":1574737716083},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/sass-loader/dist/cjs.js","mtime":1574747870029},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/cache-loader/dist/cjs.js","mtime":1574737719973},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/vue-loader/lib/index.js","mtime":1581426799590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5sb2dpbi13cmFwcGVyIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjMzM0MTU2OyovCiAgYmFja2dyb3VuZC1jb2xvcjogIzY0OTllODsKICB3aWR0aDogMTAwdnc7CiAgaGVpZ2h0OiAxMDB2aDsKfQoubG9naW4tdW5kZXJsYXkgewogIC8qYmFja2dyb3VuZC1jb2xvcjogIzRhNTE2NjsqLwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDgsIDYyLCA2NywgMC44NCk7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBib3gtc2hhZG93OiAzcHggM3B4IDEwcHggcmdiYSgkY29sb3I6ICMwMDAwMDAsICRhbHBoYTogLjMpOwogIHdpZHRoOiA3MHZ3OwogIGhlaWdodDogNzV2aDsKfQoubG9naW4tdGl0bGV7CiAgY29sb3I6ICMwMjk3ZmY7CiAgZm9udC1zaXplOiAzcmVtOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBtYXJnaW4tYm90dG9tOiAyNXB4OwogIGZvbnQtd2VpZ2h0OiA0MDA7CiAgbWFyZ2luLWxlZnQ6IDE1JTsKICBtYXJnaW4tcmlnaHQ6IDE1JTsKICAudGl0bGUyIHsKICAgIGZvbnQtc2l6ZTogMi41cmVtOwogIH0KfQoubG9naW4tYm9keSB7CiAgYmFja2dyb3VuZDogIzUyNTA1MDsKICBwYWRkaW5nOiA1JSA3JTsKICBib3gtc2hhZG93OiAzcHggM3B4IDEwcHggcmdiYSgkY29sb3I6ICMwMDAsICRhbHBoYTogLjUpOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgd2lkdGg6IDMwdnc7CiAgbWF4LXdpZHRoOiAzMHJlbTsKICBoZWlnaHQ6IDUwdmg7CiAgbWF4LWhlaWdodDogNDByZW07CiAgYm9yZGVyOiBub25lOwogIG1hcmdpbi1yaWdodDogLTQwJTsKICBmb250LXNpemU6IDFyZW07CiAgLmxvZ2luLWZha2UtYXV0b2NvbXBsZXRlIHsKICAgIHdpZHRoOiAwOwogICAgaGVpZ2h0OiAwOwogICAgYm9yZGVyOiBub25lOwogICAgcG9zaXRpb246IGFic29sdXRlOwogIH0KICAuZWwtZm9ybS1pdGVtIHsKICAgIGxhYmVsIHsKICAgICAgZm9udC1zaXplOiAxLjA1cmVtOwogICAgICBjb2xvcjogI2ZmZjsKICAgIH0KICAgIGlucHV0IHsKICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgbGV0dGVyLXNwYWNpbmc6IDFweDsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmZmY7CiAgICAgIGxpbmUtaGVpZ2h0OiAycmVtOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgY29sb3I6ICNmZmY7CiAgICB9CiAgfQogIC5lbC1idXR0b257CiAgICB3aWR0aDogMTAwJTsKICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgfQp9Ci5sb2dpbi1zdXBwb3J0ewogIGNvbG9yOiAjZmZmOwogIHdpZHRoOiAxMDAlOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3R0b206IDEwcHg7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBmb250LXNpemU6IDEuMDVyZW07CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"flex column center login-wrapper\" v-loading=\"loading\">\n    <div class=\"login-underlay\">\n      <div>\n        <img :src=\"loginLogo\" style=\"height: 7vh;padding: 10px 0 0 20px\" />\n      </div>\n      <div class=\"flex align-center\" style=\"width: 100%; height: 70vh; margin-top: -4vh\">\n        <div class=\"login-title flex column center\">\n          <div class=\"title1\">{{loginTitle1}}</div>\n          <div class=\"title2\">{{loginTitle2}}</div>\n        </div>\n        <el-form hide-required-asterisk class=\"login-body vivify popIn flex column around\" ref=\"formRef\" :model=\"form\" :rules=\"rule\">\n          <el-form-item prop=\"username\">\n            <label>用户名</label>\n            <input v-model=\"form.username\" autofocus autocomplete=\"off\" placeholder=\"用户名\" @keyup.enter=\"login($refs.formRef)\" />\n          </el-form-item>\n          <input class=\"login-fake-autocomplete\" tabindex=\"-1\" type=\"text\">\n          <input class=\"login-fake-autocomplete\" tabindex=\"-1\" type=\"password\">\n          <el-form-item prop=\"pwd\">\n            <label>密 码</label>\n            <input type=\"password\" autocomplete=\"off\" v-model=\"form.pwd\" placeholder=\"密  码\" @keyup.enter=\"login($refs.formRef)\" />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"login($refs.formRef)\">登录</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n    <div class=\"login-support\">技术支持：杭州领克信息科技有限公司</div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { ref, createComponent, Ref, onMounted } from '@vue/composition-api';\nimport { ElForm } from 'element-ui/types/form';\nimport { useLoading } from 'web-toolkit/src/service';\nimport { postService, storeUserInfo, updateStoreUserInfo } from 'web-toolkit/src/case-main';\nimport {loginTitle1, loginTitle2, loginLogo, urlMap, scheme} from '@/config';\nimport {router} from '@/main';\nimport { Route } from 'vue-router';\nimport {assert} from 'web-toolkit/src/utils/index';\nexport default createComponent({\n  setup() {\n    const loading = ref(false);\n    const form = ref({ username: '', pwd: '' });\n    const formRef: Ref<ElForm|null> = ref(null);\n    const rule = {\n      username: {\n        required: true,\n        message: '请填写用户名',\n        trigger: 'none',\n      },\n      pwd: [{\n        required: true,\n        message: '请填写密码',\n        trigger: 'none',\n      }, {\n        type: 'string',\n        min: 6,\n        message: '密码长度不能小于6位',\n        trigger: 'none',\n      }],\n    };\n    async function login() {\n      const valid = await (formRef.value as ElForm).validate();\n      assert(valid);\n      const {data} = await postService(urlMap.loginCommon.url, {\n        ...form.value,\n        schema: scheme,\n      });\n      updateStoreUserInfo(data);\n      // 设置登录后回到登录前页面\n      // @ts-ignore\n      const redirect: Route = {\n        name: 'index',\n        query: {},\n      };\n      if (\n        storeUserInfo.redirect &&\n        storeUserInfo.redirect.name &&\n        storeUserInfo.redirect.name !== 'notFound' &&\n        storeUserInfo.redirect.name !== 'login'\n      ) {\n        redirect.name = storeUserInfo.redirect.name;\n        redirect.query = storeUserInfo.redirect.query;\n      }\n      // @ts-ignore\n      storeUserInfo.redirect = redirect;\n      router.push(redirect);\n    }\n    return {\n      formRef, loginTitle1, loginTitle2, loginLogo,\n      loading, form, rule, login: useLoading(loading, login),\n    };\n  },\n});\n</script>\n<style lang=\"scss\" scoped>\n.login-wrapper {\n  position: relative;\n  /*background-color: #334156;*/\n  background-color: #6499e8;\n  width: 100vw;\n  height: 100vh;\n}\n.login-underlay {\n  /*background-color: #4a5166;*/\n  background-color: rgba(48, 62, 67, 0.84);\n  border-radius: 10px;\n  box-shadow: 3px 3px 10px rgba($color: #000000, $alpha: .3);\n  width: 70vw;\n  height: 75vh;\n}\n.login-title{\n  color: #0297ff;\n  font-size: 3rem;\n  text-align: center;\n  margin-bottom: 25px;\n  font-weight: 400;\n  margin-left: 15%;\n  margin-right: 15%;\n  .title2 {\n    font-size: 2.5rem;\n  }\n}\n.login-body {\n  background: #525050;\n  padding: 5% 7%;\n  box-shadow: 3px 3px 10px rgba($color: #000, $alpha: .5);\n  border-radius: 10px;\n  width: 30vw;\n  max-width: 30rem;\n  height: 50vh;\n  max-height: 40rem;\n  border: none;\n  margin-right: -40%;\n  font-size: 1rem;\n  .login-fake-autocomplete {\n    width: 0;\n    height: 0;\n    border: none;\n    position: absolute;\n  }\n  .el-form-item {\n    label {\n      font-size: 1.05rem;\n      color: #fff;\n    }\n    input {\n      font-size: 1rem;\n      display: block;\n      letter-spacing: 1px;\n      width: 100%;\n      border: none;\n      border-bottom: 1px solid #fff;\n      line-height: 2rem;\n      background-color: transparent;\n      color: #fff;\n    }\n  }\n  .el-button{\n    width: 100%;\n    font-weight: 600;\n  }\n}\n.login-support{\n  color: #fff;\n  width: 100%;\n  position: absolute;\n  bottom: 10px;\n  font-weight: 700;\n  font-size: 1.05rem;\n  text-align: center;\n}\n</style>\n"]}]}