{"remainingRequest":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/components/lkt-scrollbar.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/web-toolkit/src/components/lkt-scrollbar.vue","mtime":1579004471000},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/cache-loader/dist/cjs.js","mtime":1574737719973},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/babel-loader/lib/index.js","mtime":1574737707076},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/ts-loader/index.js","mtime":1574737715182},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/cache-loader/dist/cjs.js","mtime":1574737719973},{"path":"/Users/ycj/WebstormProjects/lttProjects/teach-platform-web/node_modules/vue-loader/lib/index.js","mtime":1581426799590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyByZWYsIGNvbXB1dGVkLCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJy4uL3V0aWxzJzsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgcHJvcHM6IHsKICAgIGNvbG9yOiBTdHJpbmcsCiAgICBpbm5lckNsYXNzOiBbT2JqZWN0LCBBcnJheSwgU3RyaW5nXSwKICAgIGlubmVyU3R5bGU6IFtPYmplY3QsIFN0cmluZ10sCiAgICBzaG93UGF0aHdheTogQm9vbGVhbiwKICB9LAogIHNldHVwKHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBjdHgpIHsKICAgIGxldCBzY3JvbGxpbmcgPSBmYWxzZTsKICAgIGxldCBzY3JvbGxEaXJlY3Rpb246IFNjcm9sbERpcmVjdGlvbiA9ICd5JzsgLy8geCBvciB5CiAgICBjb25zdCBzY3JvbGxUaHVtYlkgPSByZWYoMTAwKTsgLy8gcGVyY2VudGFnZSBvZiBob3Jpem9udGFsIHNjcm9sbGJhcgogICAgY29uc3Qgc2Nyb2xsVGh1bWJYID0gcmVmKDEwMCk7IC8vIHBlcmNlbnRhZ2Ugb2YgdmVydGljYWwgc2Nyb2xsYmFyCiAgICBjb25zdCBzY3JvbGxUb3AgPSByZWYoMCk7IC8vIG1vY2sgcHJvcGVydHkgYmFzZWQgb24gcmF3LCBpdCdzIGEgcGVyY2VudGFnZSB1c2VkIGluIHRyYW5zbGF0ZQogICAgY29uc3Qgc2Nyb2xsTGVmdCA9IHJlZigwKTsgLy8gbW9jayBwcm9wZXJ0eSBiYXNlZCBvbiByYXcsIGl0J3MgYSBwZXJjZW50YWdlIHVzZWQgaW4gdHJhbnNsYXRlCiAgICBjb25zdCB3cmFwcGVyID0gcmVmPEhUTUxFbGVtZW50PigpOwogICAgY29uc3QgaW5uZXIgPSByZWY8SFRNTEVsZW1lbnQ+KCk7CiAgICBsZXQgc2Nyb2xsU3RhcnRQb3NpdGlvbiA9IHsgeDogMCwgeTogMCwgdG9wOiAwLCBsZWZ0OiAwIH07IC8vIHN0YXRlIGJlZm9yZSBzY3JvbGwKICAgIGNvbnN0IG1heFNjcm9sbFRvcCA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgaWYgKCF3cmFwcGVyLnZhbHVlKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgICAgY29uc3QgY29udGVudCA9IHdyYXBwZXIudmFsdWUuY2hpbGRyZW5bMF07CiAgICAgIGlmICghY29udGVudCkgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICAgIHJldHVybiAoMSAtIGNvbnRlbnQuY2xpZW50SGVpZ2h0IC8gY29udGVudC5zY3JvbGxIZWlnaHQpICogMTAwIC8gc2Nyb2xsVGh1bWJZLnZhbHVlICogMTAwOwogICAgfSk7CiAgICBjb25zdCBtYXhTY3JvbGxMZWZ0ID0gY29tcHV0ZWQoKCkgPT4gewogICAgICBpZiAoIXdyYXBwZXIudmFsdWUpIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgICBjb25zdCBjb250ZW50ID0gd3JhcHBlci52YWx1ZS5jaGlsZHJlblswXTsKICAgICAgaWYgKCFjb250ZW50KSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgICAgcmV0dXJuICgxIC0gY29udGVudC5jbGllbnRXaWR0aCAvIGNvbnRlbnQuc2Nyb2xsV2lkdGgpICogMTAwIC8gc2Nyb2xsVGh1bWJYLnZhbHVlICogMTAwOwogICAgfSk7CiAgICBjb25zdCBvbk1vdXNlU2Nyb2xsU3RhcnQgPSAoZTogTW91c2VFdmVudCwgZGlyZWN0aW9uOiBTY3JvbGxEaXJlY3Rpb24pID0+IHsKICAgICAgc2Nyb2xsaW5nID0gdHJ1ZTsKICAgICAgc2Nyb2xsRGlyZWN0aW9uID0gZGlyZWN0aW9uOwogICAgICBzY3JvbGxTdGFydFBvc2l0aW9uID0gewogICAgICAgIHg6IGUueCwKICAgICAgICB5OiBlLnksCiAgICAgICAgdG9wOiBzY3JvbGxUb3AudmFsdWUsCiAgICAgICAgbGVmdDogc2Nyb2xsTGVmdC52YWx1ZSwKICAgICAgfTsKICAgIH07CiAgICBjb25zdCBvblNjcm9sbCA9ICgpID0+IHsKICAgICAgaWYgKCFzY3JvbGxpbmcgJiYgaW5uZXIudmFsdWUpIHsKICAgICAgICBpZiAoc2Nyb2xsVGh1bWJZLnZhbHVlIDwgMTAwKSB7CiAgICAgICAgICBzY3JvbGxUb3AudmFsdWUgPSBpbm5lci52YWx1ZS5zY3JvbGxUb3AgLyBpbm5lci52YWx1ZS5zY3JvbGxIZWlnaHQgKiAxMDAgLyBzY3JvbGxUaHVtYlkudmFsdWUgKiAxMDA7CiAgICAgICAgfQogICAgICAgIGlmIChzY3JvbGxUaHVtYlgudmFsdWUgPCAxMDApIHsKICAgICAgICAgIHNjcm9sbExlZnQudmFsdWUgPSBpbm5lci52YWx1ZS5zY3JvbGxMZWZ0IC8gaW5uZXIudmFsdWUuc2Nyb2xsV2lkdGggKiAxMDAgLyBzY3JvbGxUaHVtYlgudmFsdWUgKiAxMDA7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgY29uc3Qgb25Nb3VzZVNjcm9sbEVuZCA9ICgpID0+IHNjcm9sbGluZyA9IGZhbHNlOwogICAgY29uc3Qgb25Nb3VzZVNjcm9sbCA9IChlOiBNb3VzZUV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHNjcm9sbERpcmVjdGlvbjsKICAgICAgaWYgKHNjcm9sbGluZykgewogICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gZTsKICAgICAgICBpZiAoaW5uZXIudmFsdWUpIHsKICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd5JykgewogICAgICAgICAgICBjb25zdCBkeSA9IHkgLSBzY3JvbGxTdGFydFBvc2l0aW9uLnk7CiAgICAgICAgICAgIGNvbnN0IGlubmVySCA9IGlubmVyLnZhbHVlLmNsaWVudEhlaWdodDsKICAgICAgICAgICAgY29uc3QgdG9wID0gc2Nyb2xsU3RhcnRQb3NpdGlvbi50b3AgKyBkeSAvIGlubmVySCAqIDEwMCAvIHNjcm9sbFRodW1iWS52YWx1ZSAqIDEwMDsgLy8gY2FsYyBkaWZmIGJhc2VkIG9uIHBlcmNlbnRhZ2Ugb2YgdGh1bWIKICAgICAgICAgICAgc2Nyb2xsVG9wLnZhbHVlID0gTWF0aC5taW4obWF4U2Nyb2xsVG9wLnZhbHVlLCBNYXRoLm1heCgwLCB0b3ApKTsKICAgICAgICAgICAgaW5uZXIudmFsdWUuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wLnZhbHVlIC8gMTAwICogaW5uZXJIICogc2Nyb2xsVGh1bWJZLnZhbHVlICogMC4wMSAvIGlubmVySCAqIGlubmVyLnZhbHVlLnNjcm9sbEhlaWdodDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnN0IGR4ID0geCAtIHNjcm9sbFN0YXJ0UG9zaXRpb24ueDsKICAgICAgICAgICAgY29uc3QgaW5uZXJXID0gaW5uZXIudmFsdWUuY2xpZW50V2lkdGg7CiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBzY3JvbGxTdGFydFBvc2l0aW9uLmxlZnQgKyBkeCAvIGlubmVyVyAqIDEwMCAvIHNjcm9sbFRodW1iWC52YWx1ZSAqIDEwMDsKICAgICAgICAgICAgc2Nyb2xsTGVmdC52YWx1ZSA9IE1hdGgubWluKG1heFNjcm9sbExlZnQudmFsdWUsIE1hdGgubWF4KDAsIGxlZnQpKTsKICAgICAgICAgICAgaW5uZXIudmFsdWUuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQudmFsdWUgLyAxMDAgKiBpbm5lclcgKiBzY3JvbGxUaHVtYlgudmFsdWUgKiAwLjAxIC8gaW5uZXJXICogaW5uZXIudmFsdWUuc2Nyb2xsV2lkdGg7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgY29uc3Qgb25Nb3VzZW1vdmUgPSBkZWJvdW5jZSgoKSA9PiB7CiAgICAgIGlmIChpbm5lci52YWx1ZSkgewogICAgICAgIGNvbnN0IGN1cnJlbnRTY3JvbGxUaHVtYlkgPSBpbm5lci52YWx1ZS5jbGllbnRIZWlnaHQgLyBpbm5lci52YWx1ZS5zY3JvbGxIZWlnaHQgKiAxMDA7CiAgICAgICAgY29uc3QgY3VycmVudFNjcm9sbFRodW1iWCA9IGlubmVyLnZhbHVlLmNsaWVudFdpZHRoIC8gaW5uZXIudmFsdWUuc2Nyb2xsV2lkdGggKiAxMDA7CiAgICAgICAgaWYgKHNjcm9sbFRodW1iWS52YWx1ZSAhPT0gY3VycmVudFNjcm9sbFRodW1iWSB8fCBzY3JvbGxUaHVtYlgudmFsdWUgIT09IGN1cnJlbnRTY3JvbGxUaHVtYlgpIHsKICAgICAgICAgIHNjcm9sbFRodW1iWS52YWx1ZSA9IGN1cnJlbnRTY3JvbGxUaHVtYlk7CiAgICAgICAgICBzY3JvbGxUaHVtYlgudmFsdWUgPSBjdXJyZW50U2Nyb2xsVGh1bWJYOwogICAgICAgICAgb25TY3JvbGwoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsgaW50ZXJ2YWw6IDUwMCB9KTsKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlU2Nyb2xsRW5kKTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZVNjcm9sbCk7CiAgICAgIG9uTW91c2Vtb3ZlKCk7CiAgICB9KTsKICAgIG9uVW5tb3VudGVkKCgpID0+IHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VTY3JvbGxFbmQpOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlU2Nyb2xsKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgaW5uZXIsCiAgICAgIHdyYXBwZXIsCiAgICAgIHNjcm9sbFRodW1iWCwKICAgICAgc2Nyb2xsVGh1bWJZLAogICAgICBzY3JvbGxUb3AsCiAgICAgIHNjcm9sbExlZnQsCiAgICAgIG9uTW91c2Vtb3ZlLAogICAgICBvblNjcm9sbCwKICAgICAgb25Nb3VzZVNjcm9sbFN0YXJ0LAogICAgfTsKICB9LAp9KTsKdHlwZSBTY3JvbGxEaXJlY3Rpb24gPSAneCcgfCAneSc7Cg=="},{"version":3,"sources":["lkt-scrollbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"lkt-scrollbar.vue","sourceRoot":"node_modules/web-toolkit/src/components","sourcesContent":["<template>\n  <div class=\"lkt-scrollbar\" ref=\"wrapper\" @mousemove=\"onMousemove\">\n    <div\n      ref=\"inner\"\n      class=\"lkt-scrollbar--inner\"\n      :class=\"innerClass\"\n      :style=\"innerStyle\"\n      @scroll=\"onScroll\"\n    >\n      <slot></slot>\n    </div>\n    <div v-show=\"scrollThumbY < 100\" class=\"lkt-scrollbar--pathway lkt-scrollbar--pathway--y\" :class=\"{ 'lkt-scrollbar--pathway--always': showPathway }\">\n      <div\n        onselectstart=\"return false\"\n        class=\"lkt-scrollbar--thumb\"\n        :style=\"{ transform: `translateY(${scrollTop}%)`, height: scrollThumbY + '%', backgroundColor: color || 'black' }\"\n        @mousedown=\"onMouseScrollStart($event, 'y')\"\n      ></div>\n    </div>\n    <div v-show=\"scrollThumbX < 100\" class=\"lkt-scrollbar--pathway lkt-scrollbar--pathway--x\" :class=\"{ 'lkt-scrollbar--pathway--always': showPathway }\">\n      <div\n        onselectstart=\"return false\"\n        class=\"lkt-scrollbar--thumb\"\n        :style=\"{ transform: `translateX(${scrollLeft}%)`, width: scrollThumbX + '%', backgroundColor: color || 'black' }\"\n        @mousedown=\"onMouseScrollStart($event, 'x')\"\n      ></div>\n    </div>\n  </div>\n</template>\n<script lang='ts'>\nimport Vue from 'vue';\nimport { ref, computed, onMounted, onUnmounted } from '@vue/composition-api';\nimport { debounce } from '../utils';\nexport default Vue.extend({\n  props: {\n    color: String,\n    innerClass: [Object, Array, String],\n    innerStyle: [Object, String],\n    showPathway: Boolean,\n  },\n  setup(props: Record<string, any>, ctx) {\n    let scrolling = false;\n    let scrollDirection: ScrollDirection = 'y'; // x or y\n    const scrollThumbY = ref(100); // percentage of horizontal scrollbar\n    const scrollThumbX = ref(100); // percentage of vertical scrollbar\n    const scrollTop = ref(0); // mock property based on raw, it's a percentage used in translate\n    const scrollLeft = ref(0); // mock property based on raw, it's a percentage used in translate\n    const wrapper = ref<HTMLElement>();\n    const inner = ref<HTMLElement>();\n    let scrollStartPosition = { x: 0, y: 0, top: 0, left: 0 }; // state before scroll\n    const maxScrollTop = computed(() => {\n      if (!wrapper.value) {\n        return 0;\n      }\n      const content = wrapper.value.children[0];\n      if (!content) {\n        return 0;\n      }\n      return (1 - content.clientHeight / content.scrollHeight) * 100 / scrollThumbY.value * 100;\n    });\n    const maxScrollLeft = computed(() => {\n      if (!wrapper.value) {\n        return 0;\n      }\n      const content = wrapper.value.children[0];\n      if (!content) {\n        return 0;\n      }\n      return (1 - content.clientWidth / content.scrollWidth) * 100 / scrollThumbX.value * 100;\n    });\n    const onMouseScrollStart = (e: MouseEvent, direction: ScrollDirection) => {\n      scrolling = true;\n      scrollDirection = direction;\n      scrollStartPosition = {\n        x: e.x,\n        y: e.y,\n        top: scrollTop.value,\n        left: scrollLeft.value,\n      };\n    };\n    const onScroll = () => {\n      if (!scrolling && inner.value) {\n        if (scrollThumbY.value < 100) {\n          scrollTop.value = inner.value.scrollTop / inner.value.scrollHeight * 100 / scrollThumbY.value * 100;\n        }\n        if (scrollThumbX.value < 100) {\n          scrollLeft.value = inner.value.scrollLeft / inner.value.scrollWidth * 100 / scrollThumbX.value * 100;\n        }\n      }\n    };\n    const onMouseScrollEnd = () => scrolling = false;\n    const onMouseScroll = (e: MouseEvent) => {\n      const direction = scrollDirection;\n      if (scrolling) {\n        const { x, y } = e;\n        if (inner.value) {\n          if (direction === 'y') {\n            const dy = y - scrollStartPosition.y;\n            const innerH = inner.value.clientHeight;\n            const top = scrollStartPosition.top + dy / innerH * 100 / scrollThumbY.value * 100; // calc diff based on percentage of thumb\n            scrollTop.value = Math.min(maxScrollTop.value, Math.max(0, top));\n            inner.value.scrollTop = scrollTop.value / 100 * innerH * scrollThumbY.value * 0.01 / innerH * inner.value.scrollHeight;\n          } else {\n            const dx = x - scrollStartPosition.x;\n            const innerW = inner.value.clientWidth;\n            const left = scrollStartPosition.left + dx / innerW * 100 / scrollThumbX.value * 100;\n            scrollLeft.value = Math.min(maxScrollLeft.value, Math.max(0, left));\n            inner.value.scrollLeft = scrollLeft.value / 100 * innerW * scrollThumbX.value * 0.01 / innerW * inner.value.scrollWidth;\n          }\n        }\n      }\n    };\n    const onMousemove = debounce(() => {\n      if (inner.value) {\n        const currentScrollThumbY = inner.value.clientHeight / inner.value.scrollHeight * 100;\n        const currentScrollThumbX = inner.value.clientWidth / inner.value.scrollWidth * 100;\n        if (scrollThumbY.value !== currentScrollThumbY || scrollThumbX.value !== currentScrollThumbX) {\n          scrollThumbY.value = currentScrollThumbY;\n          scrollThumbX.value = currentScrollThumbX;\n          onScroll();\n        }\n      }\n    }, { interval: 500 });\n    onMounted(() => {\n      document.addEventListener('mouseup', onMouseScrollEnd);\n      document.addEventListener('mousemove', onMouseScroll);\n      onMousemove();\n    });\n    onUnmounted(() => {\n      document.removeEventListener('mouseup', onMouseScrollEnd);\n      document.removeEventListener('mousemove', onMouseScroll);\n    });\n    return {\n      inner,\n      wrapper,\n      scrollThumbX,\n      scrollThumbY,\n      scrollTop,\n      scrollLeft,\n      onMousemove,\n      onScroll,\n      onMouseScrollStart,\n    };\n  },\n});\ntype ScrollDirection = 'x' | 'y';\n</script>\n<style lang=\"scss\">\n.lkt-scrollbar {\n  position: relative;\n  overflow: hidden;\n  &:hover > .lkt-scrollbar--pathway {\n    opacity: .3;\n  }\n}\n.lkt-scrollbar--pathway {\n  position: absolute;\n  opacity: 0;\n  transition: opacity .2s;\n  cursor: pointer;\n  user-select: none;\n}\n.lkt-scrollbar--pathway--always {\n  opacity: .3;\n}\n.lkt-scrollbar--pathway--y {\n  height: 100%;\n  width: 7px;\n  right: 0;\n  top: 0;\n}\n.lkt-scrollbar--pathway--x {\n  width: 100%;\n  height: 7px;\n  left: 0;\n  bottom: 0;\n}\n.lkt-scrollbar--thumb {\n  user-select: none;\n  width: 100%;\n  height: 100%;\n  border-radius: 30px;\n}\n.lkt-scrollbar--inner {\n  overflow: scroll;\n  width: calc(100% + 17px);\n  height: calc(100% + 17px);\n  padding-right: 8px;\n  &::-webkit-scrollbar {\n    width: 17px;\n    height: 17px;\n    background-color: transparent;\n  }\n}\n</style>\n"]}]}